# 1. λλ‹¤μ‹

## 1.1λλ‹¤μ‹μ΄λ€?

> λλ‹¤μ‹μ΄λ€ κ°„λ‹¨ν λ§ν•΄μ„ λ©”μ„λ“λ¥Ό ν•λ‚μ μ‹μΌλ΅ ν‘ν„ν• κ²ƒμ΄λ‹¤.
>
- JDK1.8λ¶€ν„° μ¶”κ°€λμ—λ‹¤.
- λλ‹¤μ‹μ λ„μ…μΌλ΅ μΈν•΄, μ΄μ  μλ°”λ” κ°μ²΄μ§€ν–¥μ–Έμ–΄μΈ λ™μ‹μ— ν•¨μν• μ–Έμ–΄κ°€ λμ—λ‹¤.
- β€μµλ…ν•¨μβ€™λΌκ³ λ„ ν•λ‹¤.

## 1.2 λλ‹¤μ‹ μ‘μ„±ν•κΈ°

- λλ‹¤μ‹μ€ μµλ…ν•¨μ λ‹µκ² λ©”μ„λ“μ—μ„ μ΄λ¦„κ³Ό λ°ν™νƒ€μ…μ„ μ κ±°ν•κ³  λ§¤κ°λ³€μ μ„ μ–Έλ¶€μ™€ λΈν†µ{} μ‚¬μ΄μ— β€β†’β€™λ¥Ό μ¶”κ°€ν•λ‹¤.
- λ°ν™κ°’μ΄ μλ” λ©”μ„λ“μ κ²½μ°, returnλ¬Έ λ€μ‹  β€μ‹β€™μΌλ΅ ν‘ν„ν•  μ μλ‹¤. μ‹μ μ—°μ‚°κ²°κ³Όκ°€ λ°ν™κ°’μ΄ λλ‹¤.(μ΄λ•λ” λ¬Έμ¥μ΄ μ•„λ‹ μ‹μ΄λ―€λ΅ λμ— β€;β€™μ„ λ¶™μ΄μ§€ μ•λ”λ‹¤.
- λλ‹¤μ‹μ μ„ μ–Έλ λ§¤κ°λ³€μμ νƒ€μ…μ€ μ¶”λ΅ μ΄ κ°€λ¥ν• κ²½μ°λ” μƒλµν•  μ μλ‹¤.(λ€λ¶€λ¶„ μƒλµκ°€λ¥)
    - λ‘ λ§¤κ°λ³€μ μ¤‘ μ–΄λ ν•λ‚μ νƒ€μ…λ§ μƒλµν•λ” κ²ƒμ€ ν—μ©λμ§€ μ•λ”λ‹¤.
- λ§¤κ°λ³€μκ°€ ν•λ‚λΏμΈ κ²½μ°μ—λ” κ΄„νΈ() λ¥Ό μƒλµν•  μ μλ‹¤. λ‹¨ λ§¤κ°λ³€μμ νƒ€μ…μ΄ μμΌλ©΄ κ΄„νΈ()λ¥Ό μƒλµν•  μ μ—†λ‹¤.
- κ΄„νΈ{} μ•μ λ¬Έμ¥μ΄ ν•λ‚μΌ λ•λ” κ΄„νΈ{}λ¥Ό μƒλµν•  μ μλ‹¤. μ΄λ• λ¬Έμ¥μ λμ— β€™;β€™ μ„ λ¶™μ΄μ§€ μ•μ•„μ•Ό ν•λ‹¤.

- μμ‹

  λλ‹¤μ‹μ€ μµλ…ν•¨μ λ‹µκ² λ©”μ„λ“μ—μ„ μ΄λ¦„κ³Ό λ°ν™νƒ€μ…μ„ μ κ±°ν•κ³  λ§¤κ°λ³€μ μ„ μ–Έλ¶€μ™€ λΈν†µ{} μ‚¬μ΄μ— β€β†’β€™λ¥Ό μ¶”κ°€ν•λ‹¤.

  max λ©”μ„λ“

    ```java
    int max(int a, int b) {
    	return a> b ? a:b;
    }
    ```

  λλ‹¤μ‹μΌλ΅ μ„ μ–Έν• maxλ©”μ„λ“

    ```java
    (int a, int b) -> {
    	return a>b ? a:b;
    }
    ```

  λ°ν™κ°’μ΄ μλ” λ©”μ„λ“μ κ²½μ°, returnλ¬Έ λ€μ‹  β€μ‹β€™μΌλ΅ ν‘ν„ν•  μ μλ‹¤. μ‹μ μ—°μ‚°κ²°κ³Όκ°€ λ°ν™κ°’μ΄ λλ‹¤.

  (μ΄λ•λ” λ¬Έμ¥μ΄ μ•„λ‹ μ‹μ΄λ―€λ΅ λμ— β€;β€™μ„ λ¶™μ΄μ§€ μ•λ”λ‹¤.

    ```java
    (int a, int b) -> a > b ? a : b
    ```

  λλ‹¤μ‹μ μ„ μ–Έλ λ§¤κ°λ³€μμ νƒ€μ…μ€ μ¶”λ΅ μ΄ κ°€λ¥ν• κ²½μ°λ” μƒλµν•  μ μλ‹¤.(λ€λ¶€λ¶„ μƒλµκ°€λ¥)

    - λ‘ λ§¤κ°λ³€μ μ¤‘ μ–΄λ ν•λ‚μ νƒ€μ…λ§ μƒλµν•λ” κ²ƒμ€ ν—μ©λμ§€ μ•λ”λ‹¤.

    ```java
    (a,b) -> a > b ? a : b
    ```

  λ§¤κ°λ³€μκ°€ ν•λ‚λΏμΈ κ²½μ°μ—λ” κ΄„νΈ() λ¥Ό μƒλµν•  μ μλ‹¤. λ‹¨ λ§¤κ°λ³€μμ νƒ€μ…μ΄ μμΌλ©΄ κ΄„νΈ()λ¥Ό μƒλµν•  μ μ—†λ‹¤.

    ```java
     a - > a * a // ok
    int a -> a * a // error
    ```


## 1.3  ν•¨μν• μΈν„°νμ΄μ¤

> λ‹¨ ν•λ‚μ μ¶”μƒλ©”μ„λ“λ§ μ„ μ–Έλ μΈν„°νμ΄μ¤
>

```java
@FunctionalIterface // μμ‘μ„±λμ—λ”μ§€ μ»΄νμΌλ¬κ°€ ν™•μΈν•΄μ¤€λ‹¤.
interface MyFuction{
	public abstract int max(int a, int b);
}
```

ν•¨μν• μΈν„°νμ΄μ¤μΈ Comparatorλ¥Ό λλ‹¤μ‹μ„ μ‚¬μ©ν•λ©΄ κ°„λ‹¨ν•΄μ§„λ‹¤.

```java
List<String> list = Arrays.asList("abc", "aaa", "bbb", "ddd", "aaa");
Collections.sort(list, new Comparator<String>() {
												public int compare(String s1, String s2){
												return s2.compareTo(s1);
}
);

// λλ‹¤μ‹ μ‚¬μ©
Collections.sort(list,(s1,s2) ->s2.compareTo(s1));
```

λλ‹¤μ‹μ€ μµλ…ν•¨μκ°€ μ•„λ‹λΌ μµλ… κ°μ²΄μ΄λ‹¤.

λλ‹¤μ‹(μµλ…κ°μ²΄) λ¥Ό λ‹¤λ£°λ ¤λ©΄ μ°Έμ΅°λ³€μκ°€ ν•„μ”ν•λ‹¤ μ°Έμ΅°λ³€μμ νƒ€μ…μ€?

## 1.4 java.util.function ν¨ν‚¤μ§€

- μμ£Ό μ‚¬μ©λλ” λ‹¤μ–‘ν• ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ‹¤.

| ν•¨μν„ μΈν„°νμ΄μ¤ | λ©”μ„λ“ | μ„¤λ… |
| --- | --- | --- |
| java.lang.Runnable | void run() | λ§¤κ°λ³€μλ„ μ—†κ³  λ°ν™κ°’λ„ μ—†μ |
| Supplier<T> | T get() | λ§¤κ°λ³€μλ” μ—†κ³  λ°ν™κ°’λ§ μμ |
| Consumer<T> | void accept(T t) | λ§¤κ°λ³€μλ§ μκ³  λ°ν™κ°’μ€ μ—†μ |
| Function<T,R> | R apply(T t) | μΌλ°μ μΈ ν•¨μ, ν•λ‚μ λ§¤κ°λ³€μλ¥Ό λ°›μ•„μ„ κ²°κ³Όλ¥Ό λ°ν™ |
| Predicate<T> | boolean test(T t) | μ΅°κ±΄μ‹μ„ ν‘ν„ν•λ”λ° μ‚¬μ©λ¨. λ§¤κ°λ³€μλ” ν•λ‚, λ°ν™νƒ€μ…μ€ boolean |



## 1.5 Predicateμ κ²°ν•©

- and(),or(), negate()λ΅ λ‘ Predicateλ¥Ό ν•λ‚λ΅ κ²°ν•©(defaultλ©”μ„λ“)

    ```java
    Predicate<Integer> p = i -> i < 100;
    Predicate<Integer> q = i -> i < 200;
    Predicate<Integer> r = i -> i&2 == 0;
    ```
    ```java
    Predicate<Integer> notP = p.negate();        // i >= 100
    Predicate<Integer> all = notP.and(q).or(r)   // 100 <= i && i < 200 || i & 2 == 0
    Predicate<Integer> all2 = notP.and(q.or(r)); // 100 <= i && (i < 200 || i& == 0)
    ``` 
    
    Predicate μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•  λ•λ” testλ©”μ„λ“λ¥Ό μ΄μ©ν•΄μ¤€λ‹¤.
    
    ```java
    System.out.Println(all.test(2));     // true
    System.out.Println(all2.test(2));    // false
    ```

- λ“±κ°€λΉ„κµλ¥Ό μ„ν• Predicateμ μ‘μ„±μ—λ” isEqual()λ¥Ό μ‚¬μ©(staticλ©”μ„λ“)

    ```java
    Predicate<String> p = Predicate.isEqual(str1); //isEquals()μ€ staticλ©”μ„λ“
    Boolean result = p.test(str2) ; // str1κ³Ό str2κ°€ κ°™μ€μ§€ λΉ„κµν• κ²°κ³Όλ¥Ό λ°ν™
    
    //μ΅°κΈ λ³µμ΅ν•λ‹¤.  μ΄λ¥Ό λ³΄κΈ° νΈν•κ² λ³€κ²½ν•λ©΄ μ•„λμ™€ κ°™λ‹¤.
    boolean result = Predicate.isEqual(str1).test(str2);
    ```


## 1.6 μ»¬λ ‰μ… ν”„λ μ„μ›κ³Ό ν•¨μν• μΈν„°νμ΄μ¤

μ»¬λ ‰μ… ν”„λ μ„μ›μ μΈν„°νμ΄μ¤μ— λ‹¤μμ λ””ν΄νΈ λ©”μ„λ“κ°€ μ¶”κ°€λμ—λ”λ°, κ·Έ μ¤‘μ μΌλ¶€λ” ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ‹¤. λ‹¤μμ€ κ·Έ λ©”μ„λ“λ“¤μ λ©λ΅μ΄λ‹¤.



[ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” μ»¬λ ‰μ… ν”„λ μ„μ›μ λ©”μ„λ“](https://www.notion.so/2c1857b8304549ed9b7fe309771df600)

```java
list.forEach(i->System.out.print(i+",")); // listμ λ¨λ“  μ”μ†λ¥Ό μ¶λ ¥
list.removeIf(x-> x%2 == 0 || x%3==0);    // 2 λλ” 3μ λ°°μλ¥Ό μ κ±°
list.replaceAll(i->i*10);                 // λ¨λ“  μ”μ†μ— 10μ„ κ³±ν•λ‹¤.

// mapμ λ¨λ“  μ”μ†λ¥Ό (k,v)μ ν•μ‹μΌλ΅ μ¶λ ¥
map.forEach((k,v) -> System.out.print("{"+k+","+v+"},"));
```

## 1.6 λ©”μ„λ“ μ°Έμ΅°

- ν•λ‚μ λ©”μ„λ“λ§ νΈμ¶ν•λ” λλ‹¤μ‹μ€ β€λ©”μ„λ“ μ°Έμ΅°β€™λ΅ λ” κ°„λ‹¨ν ν•  μ μλ‹¤.

| μΆ…λ¥ | λλ‹¤ | λ©”μ„λ“ μ°Έμ΅° |
| --- | --- | --- |
| staticλ©”μ„λ“ μ°Έμ΅° | (x) β†’ ClassName.method(x) | ClassName::method |
| μΈμ¤ν„΄μ¤ λ©”μ„λ“ μ°Έμ΅° | (obj.x) β†’ obj.method(x) | ClassName::method |
| νΉμ • κ°μ²΄ μΈμ¤ν„΄μ¤ λ©”μ„λ“ μ°Έμ΅° | (x) β†’ obj.method(x) | obj::method |

<aside>
π’΅ **ν•λ‚μ λ©”μ„λ“λ§ νΈμ¶**ν•λ” λλ‹¤μ‹μ€
β€™**ν΄λμ¤μ΄λ¦„::λ©”μ„λ“μ΄λ¦„**β€™λλ” β€**μ°Έμ΅°λ³€μ::λ©”μ„λ“μ΄λ¦„**β€™μΌλ΅ λ°”κΏ€ μ μλ‹¤.

</aside>

```java
Function<String,Integer> f = (String s) -> Integer.parseInt(s); //λλ‹¤μ‹

Function<String,Integer> f = Integer::parseInt; // λ©”μ„λ“ μ°Έμ΅°

---------------------------------------------------------

BiFunction<String, String, Boolean> f = (s1, s2) -> s1.equals(s2); // λλ‹¤μ‹

BiFunction<String, String, Boolean> f =String::equals; // λ©”μ„λ“ μ°Έμ΅°

```

μ„ λ©”μ„λ“ μ°Έμ΅°μ—μ„ λλ‹¤μ‹μ μΌλ¶€κ°€ μƒλµλμ—μ§€λ§, μ»΄νμΌλ¬λ” μƒλµλ λ¶€λ¶„μ„ μ›…λ³€μ λ©”μ„λ“μ μ„ μ–Έλ¶€λ΅λ¶€ν„°, λλ” μΆλ³€μ ν•¨μν• μΈν„°νμ΄μ¤λ΅λ¶€ν„° μ§€μ •λ μ§€λ„¤λ¦­ νƒ€μ…μΌλ΅λ¶€ν„° μ‰½κ² μ•μ•„λ‚Ό μ μλ‹¤.

μƒμ„±μμ™€ λ©”μ„λ“ μ°Έμ΅°

```java
Supplier<MyClass> s = () -> new MyClass(); //λλ‹¤μ‹
Supplier<MyClass> s = MyClass::new; // λ©”μ„λ“ μ°Έμ΅°

// μƒμ„±μμ λ§¤κ°λ³€μκ°€ μλ” κ²½μ°
Function<Integer, MyClass> s = (i) -> new MyClass(i); // λλ‹¤μ‹
Function<Integer, MyClass> s = Myclass::new;          // λ©”μ„λ“ μ°Έμ΅°

// λ°°μ—΄μ„ μƒμ„±ν•  κ²½μ°
Function<Integer, int[]> f = x -> new int[x];         // λλ‹¤μ‹
Function<Integer, int[]> f2 = int[]::new;             // λ©”μ„λ“ μ°Έμ΅°
```