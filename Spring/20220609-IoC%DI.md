# Ioc /DI

## IoC (Inversion of Control)

ê°œë°œìê°€ ì‘ì„±í•œ ê°ì²´ë‚˜ ë©”ì„œë“œì˜ ì œì–´ë¥¼ ê°œë°œìê°€ ì•„ë‹ˆë¼ ì™¸ë¶€ì— ìœ„ì„í•˜ëŠ” ì„¤ê³„ ì›ì¹™ì„ ì œì–´ì˜ ì—­ì „ì´ë¼ê³  í•œë‹¤.

ì´ë¥¼ â€œ**ì œì–´ì˜ ì—­ì „**â€ ì´ë¼ê³  í•œë‹¤.

**IoCì˜ ì¥ì **

- ìë°”ì†ŒìŠ¤ë¥¼ ê±´ë“¤ì´ì§€ ì•Šê³  ê°ì²´ë¥¼ ë°”ê¿€ ìˆ˜ ìˆë‹¤. ( ìœ ì§€ë³´ìˆ˜ í–¥ìƒ)
- ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì œì–´ ì±…ì„ì´ í”„ë¡œê·¸ë˜ë¨¸ì—ì„œ í”„ë ˆì„ì›Œí¬ë¡œ ìœ„ì„ë˜ë¯€ë¡œ, ê°œë°œìëŠ” í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ë” ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.
- ê°ì²´ ìƒì„±ê³¼ ì˜ì¡´ê´€ê³„ì— ëŒ€í•œ ì½”ë“œê°€ ì‚¬ë¼ì ¸ ê²°ê³¼ì ìœ¼ë¡œ ë‚®ì€ ê²°í•©ë„ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆê²Œ í•œë‹¤.
    
    <aside>
    ğŸ’¡ **ê²°í•©ë„ë€?**
    í•˜ë‚˜ì˜ í´ë˜ìŠ¤ê°€ ë‹¤ë¥¸ í´ë˜ìŠ¤ì™€ ì–¼ë§ˆë‚˜ ë§ì´ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í‘œí˜„ì´ë©°, ê²°í•©ë„ê°€ ë†’ì€ í”„ë¡œê·¸ë¨ì€ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë µë‹¤.
    
    **<ê²°í•©ë„ë¥¼ ë‚®ì¶”ëŠ”ë°©ë²•>
    1. ë‹¤í˜•ì„± ì´ìš©í•˜ê¸°
    2. ë””ìì¸ íŒ¨í„´ ì´ìš©í•˜ê¸°**
    
    </aside>
    

## DI (Dependency Injection)

**DIì˜ ì¥ì **

- ì˜ì¡´ì„±ìœ¼ë¡œë¶€í„° ê²©ë¦¬ì‹œì¼œ ì½”ë“œ í…ŒìŠ¤íŠ¸ì— ìš©ì´í•˜ë‹¤
- DIë¥¼ í†µí•˜ì—¬, ë¶ˆê°€ëŠ¥í•œ ìƒí™©ì„ Mockì™€ ê°™ì€ ê¸°ìˆ ì„ í†µí•˜ì—¬, ì•ˆì •ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ë‹¤.
- ì½”ë“œë¥¼ í™•ì¥í•˜ê±°ë‚˜ ë³€ê²½ í•  ë•Œ ì˜í–¥ì„ ìµœì†Œí™” í•œë‹¤.(ì¶”ìƒí™”)
- ìˆœí™˜ì°¸ì¡°ë¥¼ ë§‰ì„ ìˆ˜ ìˆë‹¤.

### IOC ì„¤ì •í•˜ê¸°

**IoC ê´€ë ¨ Anotation**

`@Component` : ìŠ¤í”„ë§ì— ë¹ˆ ê°ì²´ë¡œ ë“±ë¡í•´ë¼ 

- `@Component(â€nameâ€)` : í´ë˜ìŠ¤ì´ë¦„ì´ ê¸¸ê±°ë‚˜ ì‘ì„±í•˜ê¸° ë¶ˆí¸í•  ê²½ìš° nameì„ ì§€ì •í•´ ì¤„ ìˆ˜ ìˆë‹¤. ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ classì˜ ì´ë¦„ì„ CamelCaseë¡œ ë³€ê²½í•œ ê²ƒì„ bean idë¡œ ì‚¬ìš©í•œë‹¤.

`@Autowired` : field(ì†ì„±) , setter, method, constructor(ìƒì„±ì)ì—ì„œ ì‚¬ìš©í•˜ë©° Typeì— ë”°ë¼ ìë™ìœ¼ë¡œ beanì„ ë“±ë¡í•œë‹¤.

- **@Autowiredë¥¼ ì‚¬ìš©í•  ê²½ìš° ìˆœí™˜ ì°¸ì¡°ê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— @Autowired ë³´ë‹¤ ìƒì„±ì ì£¼ì… ë°©ì‹ì´ ë” ê¶Œì¥ëœë‹¤.**

`@Qualifier` : ê°ì²´ê°€ ë‘ê°œì´ìƒì¼ ë•Œ ê°ì²´ë¥¼ ì§€ì •í•´ì£¼ëŠ”ì–´ë…¸í…Œì´ì…˜

- ì‚¬ìš©ë°©ë²•: `@Qualifiler("ê°ì²´name")`

`@Configuration` : í•´ë‹¹ í´ë˜ìŠ¤ì—ì„œ 1ê°œ ì´ìƒì˜ Beanì„ ìƒì„±í•˜ê³  ìˆìŒì„ ëª…ì‹œí•œë‹¤.

ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ

**beanì„ì°¾ëŠ”ë°©ë²•**

1. class type 
    
    `getBean(.class)`  
    
2. bean id
    
    `getBean(bean id, .class)`
    

**beanì„ ì£¼ì…ë°›ì„ ìˆ˜ ìˆëŠ” ì¥ì†Œ**

1. ë³€ìˆ˜
    
    ```java
    //ë³€ìˆ˜
    Encoder encoder = new Encoder(base64Encoder);
    String url = "www.naver.com/books/it?page=10&size=20&name=spring-boot";
            
    String result = encoder.encode(url);
    System.out.println(result);
    ```
    
2. ìƒì„±ì
    
    ```java
    //bean id
    Encoder encoder = context.getBean("urlEncode",Encoder.class
    ```
    
3. setë§¤ì„œë“œ
    
    ```java
    // setë©”ì„œë“œ
    encoder.setIEncoder(urlEncoder);
    String url = "www.naver.com/books/it?page=10&size=20&name=spring-boot";
            
    String result = encoder.encode(url);
    System.out.println(result);
    ```
    

**ìŠ¤í”„ë§ì»¨í…Œì´ë„ˆì— ì ‘ê·¼í•˜ê¸°ìœ„í•œ í´ë˜ìŠ¤**

```java
import org.springframework.beans.BeansException;
import org.springframework.context.ApplicationContext;
import org.springframework.context.ApplicationContextAware;
import org.springframework.stereotype.Component;

@Component
public class ApplicationContextProvider  implements ApplicationContextAware {

    private  static ApplicationContext context;

    @Override
		//ì£¼ì…
    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {
        context = applicationContext;
    }

    public  static  ApplicationContext getContext(){
        return context;
    }
}
```