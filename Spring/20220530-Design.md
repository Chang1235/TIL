# 디자인 패턴

## 디자인 패턴이란

자주 사용하는 설계 패턴을 정형화 해서 이를 유형별로 가장 최적의 방법을 ㅗ개발을 할 수 있도록 정해둔 설계를 말한다. 

### Gof 디자인 패턴

객체지향 개념에 따른 설계중 재사용할 경우 유용한 설계를 디자인 패턴으로 정리 해둔 것이다. Gof의 디자인 패턴은 총 23개 이며, 이를 잘 이해하고 활용한다면, 경험이 부족하더라도 좋은 소프트웨어 설계가 가능하다.

### 디자인 패턴의 장단점

### 장점

- 개발자간의 원활한 소통
- 소프트웨어 구조 파악 용이
- 재사용을 통한 개발 시간 단축
- 설계 변경 요청에 대한 유연한 대처

### 단점

- 객체지향 설계/ 구현
- 초기 투자 비용 부담

## 생성 패턴

객체를 생성하는 것과 관련된 패턴으로, 객체의 생성과 변경이 전체 시스템에 미치는 영향을 최소화 하고, 코드의 유연성을 높여 준다.

- Factory Method
- **Singleton**
- Prototype
- **Builder**
- Abstract Factory
- **Chaining**

## 구조 패턴

프로그램 내의 자료구조나 인터페이스 구조 등 프로그램 구조를 설계하는데 활용 될 수 있는 패턴 클래스, 객체들의 구성을 통해서 더 큰 구조를 만들 수 있게 해준다.

큰 규모의 시스템에서는 많은 클래스들이 서로 의존성을 가지게 되는데, 이런 복잡한 구조를 개발 하기 쉽게 만들어주고, 유지 보수 하기 쉽게 만들어 준다.

- **Adapter**
- Composite
- Bridge
- **Decorator**
- **Facade**
- Flyweight
- **proxy**

## 행위 패턴

반복적으로 사용되는 객체들의 상호작용를 패턴화한 것으로, 클래스나 객체들이 상호작요하는 방법과 책임을 분산하는 방법을 제공 한다. 행위 패턴은 행위 관련 패턴을 사용하여 독립적으로 일을 처리하고자 할 때 사용한다.

- Template Metho
- Interpreter
- Iterator
- **Observer**
- **Strategy**
- Visitor
- Chain of responsibility
- Command
- Mediator
- state
- memento

# Singleton Pattern

- sigleton 패턴은 어떠한 클래스가 유일하게 1개만 존재 할 때 사용한다.
- TCP Socker 통신에서 서버와 연결된 connect 객체에 주로 사용한다.

# Adapter Pattern

- Adapter는 실생활에서는 100v를 220v로 변경해주거나 그 반대로 해주는 흔히 돼지라고불리는 변환기를 예로 들 수있다.
- 개방폐쇄(OCP) 원칙을 따른다.

# proxy pattern

- Proxy는 대리인 이라는 뜻으로써, 뭔가를 대신해서 처리하는것이다.
- Proxy Class 를 통해서 대신 전달하는 형태로 설계되며, 실제 Client는 Proxy로부터 결과를 받는다. Cache의 기능으로도 활용이 가능 하다.
- 개방 폐쇠 원칙(OCP)과 의존 역전 원칙(DIP)를 따른다.

# Decorator pattern

- 데코레이터 패턴은 기존 뼈대 (클래스)는 유지하되, 이후 필요한 형태로 꾸밀 때 사용한다.
- 확장이 필요한 경우 상속의 대안으로도 활용 한다.
- 개방 폐쇠 원칙(OCP) 과 의존 역전 원칙(DIP)를 따른다.

# Observer pattern

- 관찰자 패턴은 변화가 일어 났을 때, 미리 등록된 다른 클래스에 통보해주는 패턴을 구현한 것이다.
- 많이 사용되는 곳은 event listener에서 해당 패턴을 사용하고 있다.

# Facade pattern

- Facade는 건물의 앞쪽 정면 이라는 뜻을 가진다. 여러 개의 객체와 실제 사용하는 서브객체의 사이에 복잡한 의존관계가 있을 때, 중간에 facade라는 객체를 두고, 여기서 제공하는 interface만을 활요하여 기능을 사용하는 방식이다.
- Facade는 자신이 가지고 있는 각 클래스의 기능을 명확히 알아야 한다.

# Strategy pattern

- 전략 패턴으로 불리며, 객체지향의 꽃이다.
- 유사한 행위들을 캡슐화하여 ,객체의 행위를 바꾸고 싶은 겨웅 직접변경하는 것이 아닌 전략만변경하여, 유연하게 확장 하는 패턴SOLID중에서 개방폐쇄 원칙(OCP)과 의존 역전 원칙(DIP)를 따른다.

# 웹 개발 개론

# 1. 웹 개발이란

Web 은 인터넷에 연결된 컴퓨터를 통해 사람들이 정보를 공유할 수 있는 전세계적인 정보 공간을 말한다.

Web의 용도는 다양하게 나눌 수 있다.

- **Web site**
- **API(Application Programming Interface)**
- **User Interface**

## Wev의 기본 3가지 요소

- **URI ( Uniform Resourc Identifier )**
- **HTTP (Hypertext Transfer Protocol**
- **HTML Hyper Text Markup Language**

# 2. REST API

## REST(Representaional State Transger: 자원의 상태 전달) - 네트워크 아키텍처

1. **Clint,Server** : 클라이언트와 서버가 서로 독립적으로 분리 되어 있어야 한다.
2. **Statless** : 요청에 대해서 클라이언트의 상태를 서버에 저장하지 않는다.
3. **Cache** : 클라이언튼 서버의 응답을 Cache(입시저장) 할수 있어야 한다. 클라이언트가 Cache를 통해서 응답을 재사용할 수 있어야 하며, 이를 통해서 서버의 부하를 낮춘다.
4. **계층화(Layered System)** :  서버와 클라이언트 사이에,방화벽,게이트웨이, Proxy 등 다양한 계층 형태로 구성이 가능해야 하며, 이를 확장 할 수 있어야 한다.
5. **인터페이스 일관성** : 인터페이스의 일관성을 지키고, 아키텍처를 단순화시켜 작은 단위로 분리하여, 클라이언트, 서버가 독립적으로 개선 될 수 있어야 한다.
6. **Code on Demand** ( Optional) : 자바 애플릿, 자바스크립트,플래시 등 특정한 기능을 서버로 부터 클라이언트가 전달받아 코드를 실행 할 수 있어야 한다.

### 인터페이스 일관성이 잘 지켜졌는지에 따라 , REST를 잘 사용했는지 판단할 수있다.

1. 자원의 식별
    1.  웹 기반의 TEST 에서는 리소스 접근을 할 때 URI를 사용 합니다.
2. 메시지를 통한 리소스 조작
    1. 별도의 메시지의 형태로 데이터를 주고 받으며, client-server가 독립적으로 확장 가능하도록 합니다.
3. 자기 서술적 메시지
    1. 요청 하는 데이터가 어떻게 처리 되어져야 하는지 충분한 데이터를 포함할 수 있어야 한다.
    2. HTTP 기반의 REST에서는 HTTP Method와 Header 정보, 그리고 URI의 포함되는 정보를 표현 할 수 있습니다.
4. 애플리케이션 상태에 대한 엔진으로써 하이퍼미디어
    1. REST API를 개발할 때 단순히 Client 요청에 대한 데이터만 응답 해주는 것이 아닌 관련된 리소스에 대한 Link 정보까지 같이 포함 되어져야 한다.
    2. 현업에서 잘 사용하고 있지 않긴 함.
    

이러한 조건들을 잘 갗춘경우 **REST FUll** 하다고 표현하고 , 이를 **REST API**라고 부릅니다.

## 3. URI 설계 패턴

### URI(Uniform Resource Identifier)

- 인터넷에서 특정자원을 나타내는 주소 값.
- 해당 값은 유일하다.

### URL ( Uniform Resource Locator)

- 인터넷 상에서의 자원, 특정 파일이 어디에 위치하는지 식별하는 주소

> URL은 URI의 하위 개념이다.
> 

## URI  설계원칙(RFC-3986)

- 슬래시 구분자(/)는 계층 관계를 나타내는 데 사용한다.
- URI 마지막 문자로(/)는 포함하지 않는다.
- 하이픈(-)은 URI가독성을 높이는데 사용한다.
- 밑줄(-)은 사용하지 않는다.
- URI경로에는 소문자가 적합하다.
- 파일 확장자는 URI에 포함하지 않는다.
- 프로그래밍 언어에 의존적인 확장자를 사용하지 않는다.
- 구현에 의존적인 경로를 사용하지 않는다.
- 세션ID를 포함하지 않는다.
- 프로그래밍 언어의 Method명을 이용하지 않는다.
- 명사에 단수형 보다는 복수형을 사용해야 한다.
- 컨트롤러 이름으로는 동사나 동사구 를 사용한다.
- 경로 부분 중 변하는 부분은 유일한 값으로 대체 한다.
- CRUD 기능을 나타내는 것은 URI에 사용하지 않는다.
- URI Query Parameter 디자인
- URI 쿼리 부분으로 컬렉션 과에 대해서 필터링 할 수 있다.
- URI 쿼리는 컬렉션의 결과를 페이지로 구분하여 나타내는데 사용한다.
- API에 있어서 서브 도메인은 일관성 있게 사용해야 한다.
- 클라이엍느 개발자 포탈 서브 도메인은 일관성 있게 만든다.

## 4. HTTP

- HTTP(Hyper Text Transfer Protocol) 로 RFC2616ㅇ레서 규정된 Web에서 데이터를 주고 받는 프로토콜.
- HTTP는 TCP를 기반으로 한 REST의 특징을 모두 구현하고 있는 Web기반의 프로토콜이다.

## HTTP 특징

HTTP 프로토콜의 특징은 **비연결성** (Conncetionless)과 **무상태**( Statelsess) 로 설명된다.

- **비연결성**: 브라우저가 서버에 요청하는 순간 잠깐 서버와 연결됐다가 서버로부터 응답이 전송된 후 바로 연결이 끊기는 것을 의미한다.
- **무상태** : 웹 서버가 웹 클라이언트의 상태 정보를 유지하지 않는 것을 의미하며, 상태정보는 브라우저가 서버에게 요청을 전달하면서 함께 전달한 데이터를 의미한다.

HTTP는 기본적으로 상태정보를 유지하지 않기 떄문에 상태정보 유지가 필요한 작업에서 쿠키나 세션을 이용하여 상태를 유지한다.

### HTTP 요청 URL

> 1       2         3          4                5            6            7
http: // [localhost](http://localhost) : 8080 / BoardWeb/ board/ login.html
> 

| 요소 | 이름 | 의미 |
| --- | --- | --- |
| 1 | 프로토콜 | 요청을 전달할 때 HTTP 프로토콜을 사용한다. |
| 2 | 프로토콜 구분자 | 프로토콜과 호스트 이름을 구분하는 구분자다. |
| 3 | 호스트(도메인) | 웹 서버가 설치된 컴퓨터(host)를 찾는다. |
| 4 | 포트 | 호스트 컴퓨터 에서 808포트를 사용하는 서버에 접근한다. |
| 5 | 웹 어플리케이션 | 8080 포트를 사용하는 서버에서 BoardWeb이라는 웹애플리케이션에 접근한다. |
| 6 | 디렉토리 | BoardWeb애플리케이션의 board 디렉토리에 접근한다. |
| 7 | 파일 | board 디렉토리에 있는 login.html 파일을 요청한다. |    
    
    ### HTTP의 요청을 특정하는 Method
    
    |  | 의미 | 멱등성 |
    | --- | --- | --- |
    | GET | 리소스 취득 | O |
    | POST | 리소스 생성,추가 | X |
    | put | 리소스 갱신, 생성 | O |
    | DELETE | 리소스 삭제 | O |
    | HEAD | 헤더 데이터 취득 | O |
    | OPTIONS | 지원하는 메소드 취득 | O |
    | TRACE | 요청메시지 반환 | O |
    | CONNECT | 프록시 동작의 터널 접속으로 변경 | X |
    
    ### HTTP Status Code
    
    응답의 상태를 나타내는 코드
    
    |  | 의미 | 내용 |
    | --- | --- | --- |
    | 1XX | 처리중 | 처리가 계속되고 있는 상태. 클라이언트는 요청을 계속 하거나 서버의 지시에 따라서 재요청 |
    | 2XX | 성공 | 요청의 성공 |
    | 3XX | 리다이렉트 | 다른 리소스로 리다이렉트. 해당 코드를 받았을 떄는 rESPONSE의 새로운 주소로 다시 요청 |
    | 4XX | 클라이언트 에러 | 클라이언트의 요청에 에러가 있는 상태. 재전송 하여도 에러가 해결되지 않는다. |
    | 5XX | 서버에러 | 서버 처리중 에러가 발생한 상태. 재 전송시 에러가 해결 되었을 수도 있다. |
    
    자주 사용되는 코드
    | 200 | 성공 |
    | --- | --- |
    | 201 | 성공. 리소스를 생성성공 |
    | 301 | 리다이렉트, 리소스가 다른 장소로 변경됨을 알림 |
    | 303 | 리다이렉트, Client에서 자동으로 새로운 리소스로 요청 처리 |
    | 400 | 요청 오류, 파라미터 에러 |
    | 401 | 권한 없음( 인증실패) |
    | 404 | 리소스 없음(페이지를 찾을 수 없음) |
    | 500 | 서버 내부 에러(서버 동작 처리 에러) |
    | 503 | 서비스 정지(점검 등등) |



    