# 1. HTTP 개요

HTTP는 웹에서 클라이언트인 브라우저와 서버가 통신할 때 사용하는 통신 규약이다.

## 1) 프로토콜 개념

(1) 프로토콜

통신에 참여하는 주체들이 합의한 메시지 형식을 프로토콜이라고 한다.

(2) 프로토콜 변경

한 번 결정된 프로토콜은 변경하기 어렵다. 변경하게 되면 통신에 참여하는 모든 프로토콜이 수정되어야 하기 때문이다.

→ 이런 문제를 해결하기 위해 단순한 문자열이 아닌 XML이나 JSON형식으로 처리할 수도 있다.

## 2) HTTP 개념

(1) 웹 클라이언트와 웹 서버

웹 애플리케이션은 인터넷 상에서 웹 클라이언트와 웹 서버가 메시지를 주고받으면서 동작하는데, 이때 HTTP 프로토콜을 사용한다.

(2) HTTP 특징

- 비연결성 : 브라우저가 서버에 요청하는 순간 잠깐 서버와 연결됐다가 서버로부터 응답이 전송된 후 곧 바로 연결이 끊기는 것을 의미한다.
- 무상태 : 웹 서버가 웹 클라이언트의 상태 정보를 유지하지 않는 것을 의미한다.

(상태정보 유지가 필요한 작업에서는 쿠키나 세션을 이용한다.)

## 3) HTTP 요청 프로토콜

HTTP 요청 프로토콜은 브라우저에 의해서 자동으로 생성되고 설정된다.

(1) HTTP 요청 URL

```java
http:// locallhost : 8080 / BoardWeb / board / login.html
프로토콜: // 호스트(도메인) :포트  / 웹 애플리케이션/ 디렉토리/ 파일
```

(2) HTTP 요청 프로토콜 구조

- **start-line** : 요청과 관련된 세 가지 정보 요청방식, 요청 URI, 프로토콜/버전이 포함된다.
    - 1.요청 방식
        - GET : 조회(상세, 목록)
        - POST : 등록
        - PUT : 수정
        - DELETE : 삭제
    - 2.요청URI
        - URI(Uniform Resource Identifier)는 URL에서 포트 번호 이후의 문자열을 의미한다.
    - 3.프로토콜/버전 ( 무조건 get방식)
        - 일반적으로 웹에서 사용하는 HTTP 프로토콜은 1.1 버전을 사용한다.
- **mssage-header :** 메시지 헤더에는 Key, Value 형태로 정보들이 설정되는데 주로 **브라우저**와 관련된 정보다.
- message-body : 메시지 바디에는 사용자가 입력한 정보들이 설정되는데, 중요한 것은 start-line에 설정된 요청 방식에 따라 메시지 바디의 상태가 달라진다.

## 4) HTTP 응답 프로토콜

서버는 브라우저로부터 전송된 HTTP 요청 프로토콜로부터 요청과 관련된 다양한 정보를 추출하여 요청을 처리한다. 그리고 *HTTP 응답 프로토콜을 생성하여 처리 결과를 응답 프로토콜에 저장하여 브라우저로 전송한다.*

(1) HTTP 요청 프로토콜 구조 (HTTP 응답 프로토콜과 비슷하다.

- **status-line :** HTTP 버전, 상태 코드(Status Code), 상태 메시지(Status Text)가 설정된다**.**
    - 프로토콜/버전
        - 요청과 마찬가지로 HTTP/1.1 버전을 사용한다.
    - 상태 코드 (Status Code) : 브라우저의 요청에 대한 처리결과를 코드로 표현한 것
        - 200 : 정상적인 처리를 의미한다.
        - 403 : 브라우저가 요청한 파일에 접근할 수 없음을 의미한다.
        - 404 : 브라우저가 요청한 파일이 서버에 존재하지 않음을 의미한다.
        - 405 : 브라우저가 요청한 방식(Method)을 서버에서 지원하지않음을 의미한다.
        - 500 : 브라우저가 요청한 기능을 서버가 처리하는 과정에서 예외가 발생했음을 의미한다.
- **message-header**
    - HTTP 응답 프로토콜을 생성한 서버의 이름과 버전 정보도 설정되지만 *대부분 서버가 브라우저에게 응답으로 전송하는 문서의 정보가 설정된다.*
- **message-body**
    - 브라우저가 요청한 실질적인 문서가 포함된다.

## 5) GET/POST 요청방식

(1) GET 방식 요청

클라이언트의 데이터를 URL뒤에 붙여서 보낸다. 위에서 쓴 예시처럼 아이디 패스워드를 보낸다고 하면,

```java

www.example.com?id=mommoo&pass=1234 (예시로 쓴 URL입니다. 존재하지 않습니다.)

```

이런식으로 보낸다. URL 뒤에 "?" 마크를 통해 URL의 끝을 알리면서, 데이터 표현의 시작점을 알린다. 데이터는 key 와 value 쌍으로 넣어야 한다 dnl 예시에서의 key는 id 랑 pass고 value는 mommoo랑 1234가 되겠다.

- 위처럼 URL에 데이터의 형태가 다 보이기 때문에 로그인 요청시 사용하지 않는다.(보안상의 문제)

(2) POST 방식 요청

POST 방식은 GET 방식과 달리, 데이터 전송을 기반으로 한 요청 메서드이다.
GET방식은 URL에 데이터를 붙여서 보내는 반면, POST방식은 URL에 붙여서 보내지 않고
BODY에다가 데이터를 넣어서 보낸다.